# Load functions
source('functions.R')
# Load packages
source('packages.R')
# Load data
source('load.R')
# Clean data
source('clean.R')
# Export raw data
source('export.R')
# Calculation of water detection limits
source('water_detect_lim.R')
# Calculate leakage from biogas bottles
source('leak.R')
leaks <- massLoss(biogas,
time.name = 'elapsed.time',
m.pre.name = 'mass.init', m.post.name = 'mass.final',
id.name = 'id')
View(leaks)
id.descrip <- setup[, c('id', 'descrip')]
leaks <- merge(leaks, id.descrip, by = 'id', all.x = TRUE)
leaks <- leaks[ , c('id', 'descrip', 'date', 'elapsed.time', 'mass.tot', 'mass.vent', 'mass.leak', "cmass.tot", "cmass.vent", "cmass.leak") ]
leaks <- leaks[ , c('id', 'descrip', 'date', 'elapsed.time', 'mass.tot', 'mass.vent', 'mass.leak', "cmass.tot", "cmass.vent", "cmass.leak") ]
# Runs complete analysis of UQ2 data
# Camilla G. Justesen
# Load functions
source('functions.R')
# Load packages
source('packages.R')
# Load data
source('load.R')
# Clean data
source('clean.R')
# Export raw data
source('export.R')
# Calculation of water detection limits
source('water_detect_lim.R')
leaks <- massLoss(biogas,
time.name = 'elapsed.time',
m.pre.name = 'mass.init', m.post.name = 'mass.final',
id.name = 'id')
id.descrip <- setup[, c('id', 'descrip')]
leaks <- merge(leaks, id.descrip, by = 'id', all.x = TRUE)
leaks <- leaks[ , c('id', 'descrip', 'date', 'elapsed.time', 'mass.tot', 'mass.vent', 'mass.leak', "cmass.tot", "cmass.vent", "cmass.leak") ]
biogas <- merge(biogas, leaks, by = c('id', 'date', 'elapsed.time'), all.x = TRUE)
View(biogas)
biogas <- merge(biogas, leaks, by = c('id', 'date', 'elapsed.time'), all.x = TRUE)
# Runs complete analysis of UQ2 data
# Camilla G. Justesen
# Load functions
source('functions.R')
# Load packages
source('packages.R')
# Load data
source('load.R')
# Clean data
source('clean.R')
# Export raw data
source('export.R')
# Calculation of water detection limits
source('water_detect_lim.R')
leaks <- massLoss(biogas,
time.name = 'elapsed.time',
m.pre.name = 'mass.init', m.post.name = 'mass.final',
id.name = 'id')
id.descrip <- setup[, c('id', 'descrip')]
leaks <- merge(leaks, id.descrip, by = 'id', all.x = TRUE)
leaks <- leaks[ , c('id', 'descrip', 'date', 'elapsed.time', 'mass.tot', 'mass.vent', 'mass.leak', "cmass.tot", "cmass.vent", "cmass.leak") ]
biogas <- merge(biogas, leaks, by = c('id', 'date', 'elapsed.time'), all.x = TRUE)
plot(leaks$elapsed.time,
leaks$mass.leak)
abline(detect.lim.int, 0)
# Checking leaks
png('../plots/leaks.png')
plot(leaks$elapsed.time,
leaks$mass.leak)
abline(detect.lim.int, 0)
dev.off()
# Plot leaks
jpeg('../plots/cumleaks.png')
par(mfrow = c(1,1))
plot(leaks$elapsed.time,
leaks$cmass.leak)
abline(0, 0)
abline(detect.lim.tot, 0)
par(mfrow = c(1,1))
plot(leaks$elapsed.time,
leaks$cmass.leak)
abline(0, 0)
abline(detect.lim.tot, 0)
abline(0.03, 0)
par(mfrow = c(1,1))
plot(leaks$elapsed.time,
leaks$cmass.leak)
abline(0, 0)
abline(0.03, 0)
